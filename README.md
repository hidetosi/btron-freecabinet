# btron-freecabinet
Opensource implementation of BTRON(1B/V) Cabinet

# フリーキャビネット      Ver. 1.10

取扱説明書

制作者: 落合秀俊

## フリーキャビネットとは

　フリーキャビネットとは、仮身のみを扱うことのできるソフトです。見た
目は 1B 付属のキャビネット（仮身一覧）によく似ています。（似すぎてい
て使ってもあまり感動がないのがつらい）

　1B 上で動作します。



## インストール方法

　fcab というファイルを 1B の MS変換をつかって無変換（標準）で 1B 上
に持っていきます。次に小物メニューのシステム環境設定を起動し、バージ
ョンというタブを開いてそこに 1B に持ってきたファイルをドラッグして入
れます。これで 1B に登録ができました。



## 機能

　基本的には 1B 付属の物と同じです。ですから、1B 付属の物と異なるとこ
ろだけ書きます。


### 勝っている点

* ドラッグを×キーで中断できる。
　1B 付属の物では一度ドラッグを始めると中断ができず、不満でした。フリー
キャビネットでは仮身のドラッグ移動と仮身の変形変形のときに×キーで中
断できます。

* ドラッグ中の選択枠の表示がちょっとだけかっこいい(?)。
　複数の仮身を選択しているときにドラッグ移動すると、1B 付属の物では全
体を囲む枠が表示されていましたが、フリーキャビネットでは1つ1つの仮身
の枠が動きます。だからどうだって事はないですが、個人的趣味としてなん
かかっこいいです。

* 程良い幅でスクロールする。
　1B 付属の物のスクロールの幅って大きすぎると思いません？ 特にドラッ
グ中にウインドウの端にマウスを持っていった時のスクロールが速すぎてすっ
飛んでいってしまいます。これを改善してみました。

* 実身名と続柄をダブルクリックすると変更ができる。
　もともと BTRON1 の仕様にこういうものがあってようで、FTRON で少し話
題になっていました。私は前から実身名の変更をするのにいちいちメニュー
を開けなければならないのは面倒だと思っていましたので、この機能を付け
てみました。


### 劣っている点

* ルート実身に使えない。
　ルート実身（起動時に最初に開く実身）に対応するために必要なことをし
ていないので、ルート実身に使わないようにしてください。

* セーブが遅い。
　1B 付属の物はいろいろと努力をして、少しでもセーブにかかる時間を減ら
すようにしているようです。さすがはフロッピー時代に使われただけはあり
ますね。一方フリーキャビネットではスピードアップについてあまり考えて
いません。（とはいえ、「こっそり保存」はできるようになっています）

* アンドゥがない。
　欲しい機能ですが、やろうとすると大変なので作っていません。

* 整頓の機能がない。
　めんどくさいのでまだ作っていません。


### 秘密の機能（というほどのことでもない）

　キーボードにいろいろな機能を割り当ててみました。
　1B 付属の物はキーボードはほとんど活用されていません。デリートキーで
削除、とメニューのマクロキーしかありませんでした。これはもったいない、
キーで操作する方が楽なときがあるのに、と思ってキーに機能を割り当てて
みました。
　が、BTRON の標準のキー操作にないものなので、一応秘密ということにして
おきます。使いたい人だけ使って下さい。BTRON はポインティングデバイスに
頼りきりで、もうちょっとキーボードでの操作も考慮して欲しいな、と思いま
す。

    [リターン]:　　　　　　　選択されている仮身を実行する。
    [シフト+リターン]:　　　　選択されている仮身の実行をした後、このプログ
    　　　　　　　　　　　　ラムを終了する。
    [i]: 　　　　　　　　　選択されている仮身の管理情報を表示する。
    [バックスペース]:　　　　親ウインドウにフォーカスを移す。
    [シフト+バックスペース]:　親ウインドウにフォーカスを移した後、このプロ
    　　　　　　　　　　　　グラムを終了する。



## 問題点

　私のわかっている範囲で、次のような問題点があります。

* エラー処理が適当。
　耐久テストをやっていないので、大量の仮身を扱うときや、メモリが足り
ないときに、何が起こるかわかりません。たぶんちゃんとセーブができなく
なるのではないのかと思います。そんなときには他のアプリに仮身を移して
やってください。

* たまに落ちる。
　まだバグありです。もしバグを発見したら教えて下さいね。



## フリーキャビネットの生い立ち

　元はといえば、BTRON のプログラムの勉強のために BTRON のアプリの中で
いちばん基本的で一番簡単そうなキャビネットでも作ってみよう、と始めた
のが最初です。しかし、実際作るとなるとなかなか大変でした。特に参考に
出来る文献がほとんどないのがつらかったです。

　こんな甘い考えで始めたプログラムなので、とにかく仮身が扱えるだけで
付箋も固定化・背景化もアンドゥも考えていませんでした。しかし、いざ出
来てみると欲が出るもので、いろいろ機能を追加したのですが、設計の段階
から考慮してないからプログラムがどんどんぐちゃぐちゃの訳分からないも
のになってきてしまいました。おかげでバグが取りきれず、不明な動きが多
くなってしまいました。

　そのうちきれいに書き直したいのですが、なかなか時間がなくてそうも行
かないのがつらいところです。アンドゥがつくのは書き直したときになりそ
うです（いつになるのやら）。



## 連絡先

　制作者の落合秀俊の Nifty の ID は KHC05221 です。
　フリーキャビネットについての話題は Nifty の FTRON で主に扱っていま
す。また、1B の開発元のパーソナルメディアがやっている SPMC でも良いで
す。

　関連するところとして、B-Free プロジェクトがあります。これはフリーの
BTRON を作るというプロジェクトです。



## 感謝

　バグレポートなどで協力していただいた FTRON の

    Aralia さん
    TAKTAN さん
    仁坂貢朗 さん
    K1 さん
    π さん

　ありがとうございました。



## 著作権、配布条件

■2015/6/20 ライセンス変更

　NIFTY FTRONで公開時点では、独自ライセンスで公開していましたが、
GitHubでの公開に伴い、MITライセンスに変更します。


■NIFTY FTRON公開時点でのライセンス:

　フリーキャビネットはフリーソフトの精神に基づいています。

　フリーキャビネットの著作権は落合秀俊にあります。

　配布は自由におこなってかまいません。ただし、パッケージの改変は混乱
を招くので、そのまま配布して下さい。また、転載の報告の義務はありませ
んが、できれば私に教えて下さい。（どこに置いてあるのか知りたいので）

　ソースコードを他のプログラムに流用しても結構です。商用プログラムに
使ってもかまいません。ただし、商用の場合は私に連絡して下さい。

　このプログラムを使用した結果、どのような問題が起きようと、私はいっ
さい補償できません。各自の自己責任で使用して下さい。
